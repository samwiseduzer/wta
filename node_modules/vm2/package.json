{
  "_args": [
    [
      {
        "raw": "vm2",
        "scope": null,
        "escapedName": "vm2",
        "name": "vm2",
        "rawSpec": "",
        "spec": "latest",
        "type": "tag"
      },
      "/Users/samuelduzett/Documents/Dev/wta-node-exercises"
    ]
  ],
  "_from": "vm2@latest",
  "_id": "vm2@3.4.6",
  "_inCache": true,
  "_location": "/vm2",
  "_nodeVersion": "6.10.0",
  "_npmOperationalInternal": {
    "host": "packages-12-west.internal.npmjs.com",
    "tmp": "tmp/vm2-3.4.6.tgz_1490891441910_0.9528624867089093"
  },
  "_npmUser": {
    "name": "patriksimek",
    "email": "patrik@patriksimek.cz"
  },
  "_npmVersion": "3.10.10",
  "_phantomChildren": {},
  "_requested": {
    "raw": "vm2",
    "scope": null,
    "escapedName": "vm2",
    "name": "vm2",
    "rawSpec": "",
    "spec": "latest",
    "type": "tag"
  },
  "_requiredBy": [
    "#USER",
    "/"
  ],
  "_resolved": "https://registry.npmjs.org/vm2/-/vm2-3.4.6.tgz",
  "_shasum": "9f952e4083e3af8398291a40e802854fed6a7673",
  "_shrinkwrap": null,
  "_spec": "vm2",
  "_where": "/Users/samuelduzett/Documents/Dev/wta-node-exercises",
  "author": {
    "name": "Patrik Simek",
    "url": "https://patriksimek.cz"
  },
  "bin": {
    "vm2": "./bin/vm2"
  },
  "bugs": {
    "url": "https://github.com/patriksimek/vm2/issues"
  },
  "dependencies": {},
  "description": "vm2 is a sandbox that can run untrusted code with whitelisted Node's built-in modules. Securely!",
  "devDependencies": {
    "mocha": "^2.0.0"
  },
  "directories": {},
  "dist": {
    "shasum": "9f952e4083e3af8398291a40e802854fed6a7673",
    "tarball": "https://registry.npmjs.org/vm2/-/vm2-3.4.6.tgz"
  },
  "engines": {
    "node": ">=6.0"
  },
  "gitHead": "dc41cacf021575c3172aa5dcc546282f23ddae39",
  "homepage": "https://github.com/patriksimek/vm2#readme",
  "keywords": [
    "sandbox",
    "prison",
    "jail",
    "vm",
    "alcatraz",
    "contextify"
  ],
  "license": "MIT",
  "main": "index.js",
  "maintainers": [
    {
      "name": "patriksimek",
      "email": "patrik@patriksimek.cz"
    }
  ],
  "name": "vm2",
  "optionalDependencies": {},
  "readme": "# vm2 [![NPM Version][npm-image]][npm-url] [![NPM Downloads][downloads-image]][downloads-url] [![Package Quality][quality-image]][quality-url] [![Travis CI][travis-image]][travis-url]\n\nvm2 is a sandbox that can run untrusted code with whitelisted Node's built-in modules. Securely!\n\n**Features**\n\n* Runs untrusted code securely in a single process with your code side by side\n* Full control over sandbox's console output\n* Sandbox has limited access to process's methods\n* Sandbox can require modules (builtin and external)\n* You can limit access to certain (or all) builtin modules\n* You can securely call methods and exchange data and callbacks between sandboxes\n* Is immune to `while (true) {}` (see docs)\n* Is immune to all known methods of attacks\n* Transpilers support\n\n**How does it work**\n\n* It uses internal VM module to create secure context\n* It uses [Proxies](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Proxy) to prevent escaping the sandbox\n* It overrides builtin require to control access to modules\n\n**What is the difference between Node's vm and vm2?**\n\nTry it yourself:\n\n```javascript\nconst vm = require('vm');\nvm.runInNewContext('this.constructor.constructor(\"return process\")().exit()');\nconsole.log('Never gets executed.');\n```\n\n```javascript\nconst {VM} = require('vm2');\nnew VM().run('this.constructor.constructor(\"return process\")().exit()');\n```\n\n## Installation\n\n**IMPORTANT**: Requires Node.js 6 or newer.\n\n    npm install vm2\n\n## Quick Example\n\n```javascript\nconst {VM} = require('vm2');\nconst vm = new VM();\n\nvm.run(`process.exit()`); // TypeError: process.exit is not a function\n```\n\n```javascript\nconst {NodeVM} = require('vm2');\nconst vm = new NodeVM({\n\trequire: {\n\t\texternal: true\n\t}\n});\n\nvm.run(`\n\tvar request = require('request');\n\trequest('http://www.google.com', function (error, response, body) {\n\t\tconsole.error(error);\n\t\tif (!error && response.statusCode == 200) {\n\t\t\tconsole.log(body) // Show the HTML for the Google homepage.\n\t\t}\n\t})\n`, 'vm.js');\n```\n\n## Documentation\n\n* [VM](#vm)\n* [NodeVM](#nodevm)\n* [VMScript](#vmscript)\n* [Error handling](#error-handling)\n* [Read-only objects](#read-only-objects-experimental)\n* [Protected objects](#protected-objects-experimental)\n* [Cross-sandbox relationships](#cross-sandbox-relationships)\n* [CLI](#cli)\n* [2.x to 3.x changes](https://github.com/patriksimek/vm2/wiki/2.x-to-3.x-changes)\n* [1.x and 2.x docs](https://github.com/patriksimek/vm2/wiki/1.x-and-2.x-docs)\n* [Contributing](https://github.com/patriksimek/vm2/wiki/Contributing)\n\n## VM\n\nVM is a simple sandbox, without `require` feature, to synchronously run an untrusted code. Only JavaScript built-in objects + Buffer are available.\n\n**Options:**\n\n* `timeout` - Script timeout in milliseconds.\n* `sandbox` - VM's global object.\n* `compiler` - `javascript` (default) or `coffeescript` or custom compiler function.\n\n**IMPORTANT**: Timeout is only effective on code you run through `run`. Timeout is NOT effective on any method returned by VM.\n\n```javascript\nconst {VM} = require('vm2');\n\nconst vm = new VM({\n    timeout: 1000,\n    sandbox: {}\n});\n\nvm.run(\"process.exit()\"); // throws ReferenceError: process is not defined\n```\n\nYou can also retrieve values from VM.\n\n```javascript\nlet number = vm.run(\"1337\"); // returns 1337\n```\n\n**TIP**: See tests for more usage examples.\n\n## NodeVM\n\nUnlike `VM`, `NodeVM` lets you require modules same way like in regular Node's context.\n\n**Options:**\n\n* `console` - `inherit` to enable console, `redirect` to redirect to events, `off` to disable console (default: `inherit`).\n* `sandbox` - VM's global object.\n* `compiler` - `javascript` (default) or `coffeescript` or custom compiler function.\n* `require` - `true` or object to enable `require` method (default: `false`).\n* `require.external` - `true` to enable `require` of external modules (default: `false`).\n* `require.builtin` - Array of allowed builtin modules (default: none).\n* `require.root` - Restricted path where local modules can be required (default: every path).\n* `require.mock` - Collection of mock modules (both external or builtin).\n* `require.context` - `host` (default) to require modules in host and proxy them to sandbox. `sandbox` to load, compile and require modules in sandbox. Builtin modules except `events` always required in host and proxied to sandbox.\n* `require.import` - Array of modules to be loaded into NodeVM on start.\n* `nesting` - `true` to enable VMs nesting (default: `false`).\n* `wrapper` - `commonjs` (default) to wrap script into CommonJS wrapper, `none` to retrieve value returned by the script.\n\n**IMPORTANT**: Timeout is not effective for NodeVM so it is not immune to `while (true) {}` or similar evil.\n\n**REMEMBER**: The more modules you allow, the more fragile your sandbox becomes.\n\n```javascript\nconst {NodeVM} = require('vm2');\n\nconst vm = new NodeVM({\n\tconsole: 'inherit',\n    sandbox: {},\n    require: {\n        external: true,\n        builtin: ['fs', 'path'],\n        root: \"./\",\n        mock: {\n\t        fs: {\n\t\t        readFileSync() { return 'Nice try!'; }\n\t        }\n        }\n    }\n});\n\n// Sync\n\nlet functionInSandbox = vm.run(\"module.exports = function(who) { console.log('hello '+ who); }\");\nfunctionInSandbox('world');\n\n// Async\n\nlet functionWithCallbackInSandbox = vm.run(\"module.exports = function(who, callback) { callback('hello '+ who); }\");\nfunctionWithCallbackInSandbox('world', (greeting) => {\n\tconsole.log(greeting);\n});\n```\n\nWhen `wrapper` is set to `none`, `NodeVM` behaves more like `VM` for synchronous code.\n\n```javascript\nassert.ok(vm.run('return true') === true);\n```\n\n**TIP**: See tests for more usage examples.\n\n### Loading modules by relative path\n\nTo load modules by relative path, you must pass full path of the script you're running as a second argument of vm's `run` method. Filename then also shows up in any stack traces produced from the script.\n\n```javascript\nvm.run(\"require('foobar')\", \"/data/myvmscript.js\");\n```\n\n## VMScript\n\nYou can increase performance by using pre-compiled scripts. The pre-compiled VMScript can be run later multiple times. It is important to note that the code is not bound to any VM (context); rather, it is bound before each run, just for that run.\n\n```javascript\nconst {VM, VMScript} = require('vm2');\n\nconst vm = new VM();\nconst script = new VMScript(\"Math.random()\");\nconsole.log(vm.run(script));\nconsole.log(vm.run(script));\n```\n\nWorks for both `VM` and `NodeVM`.\n\n```javascript\nconst {NodeVM, VMScript} = require('vm2');\n\nconst vm = new NodeVM();\nconst script = new VMScript(\"module.exports = Math.random()\");\nconsole.log(vm.run(script));\nconsole.log(vm.run(script));\n```\n\nCode is compiled automatically first time you run it. You can compile the code anytime with `script.compile()`. Once the code is compiled, the method has no effect.\n\n## Error handling\n\nErrors in code compilation and synchronous code execution can be handled by `try`/`catch`. Errors in asynchronous code execution can be handled by attaching `uncaughtException` event handler to Node's `process`.\n\n```javascript\ntry {\n\tvar script = new VMScript(\"Math.random()\").compile();\n} catch (err) {\n\tconsole.error('Failed to compile script.', err);\n}\n\ntry {\n\tvm.run(script);\n} catch (err) {\n\tconsole.error('Failed to execute script.', err);\n}\n\nprocess.on('uncaughtException', (err) => {\n\tconsole.error('Asynchronous error caught.', err);\n})\n```\n\n## Read-only objects (experimental)\n\nTo prevent sandboxed script to add/change/delete properties to/from the proxied objects, you can use `freeze` methods to make the object read-only. This is only effective inside VM. Frozen objects are affected deeply. Primitive types can not be frozen.\n\n**Example without using `freeze`:**\n\n```javascript\nconst util = {\n\tadd: (a, b) => a + b\n}\n\nconst vm = new VM({\n\tsandbox: {util}\n});\n\nvm.run('util.add = (a, b) => a - b');\nconsole.log(util.add(1, 1)); // returns 0\n```\n\n**Example with using `freeze`:**\n\n```javascript\nconst vm = new VM(); // Objects specified in sandbox can not be frozen.\nvm.freeze(util, 'util'); // Second argument adds object to global.\n\nvm.run('util.add = (a, b) => a - b'); // Fails silently when not in strict mode.\nconsole.log(util.add(1, 1)); // returns 2\n```\n\n**IMPORTANT:** It is not possible to freeze objects that has already been proxied to the VM.\n\n## Protected objects (experimental)\n\nUnlike `freeze`, this method allows sandboxed script to add/modify/delete properties on object with one exception - it is not possible to attach functions. Sandboxed script is therefore not able to modify methods like `toJSON`, `toString` or `inspect`.\n\n**IMPORTANT:** It is not possible to protect objects that has already been proxied to the VM.\n\n## Cross-sandbox relationships\n\n```javascript\nconst assert = require('assert');\nconst {VM} = require('vm2');\n\nconst sandbox = {\n\tobject: new Object(),\n\tfunc: new Function(),\n\tbuffer: new Buffer([0x01, 0x05])\n}\n\nconst vm = new VM({sandbox});\n\nassert.ok(vm.run(`object`) === sandbox.object);\nassert.ok(vm.run(`object instanceof Object`));\nassert.ok(vm.run(`object`) instanceof Object);\nassert.ok(vm.run(`object.__proto__ === Object.prototype`));\nassert.ok(vm.run(`object`).__proto__ === Object.prototype);\n\nassert.ok(vm.run(`func`) === sandbox.func);\nassert.ok(vm.run(`func instanceof Function`));\nassert.ok(vm.run(`func`) instanceof Function);\nassert.ok(vm.run(`func.__proto__ === Function.prototype`));\nassert.ok(vm.run(`func`).__proto__ === Function.prototype);\n\nassert.ok(vm.run(`new func() instanceof func`));\nassert.ok(vm.run(`new func()`) instanceof sandbox.func);\nassert.ok(vm.run(`new func().__proto__ === func.prototype`));\nassert.ok(vm.run(`new func()`).__proto__ === sandbox.func.prototype);\n\nassert.ok(vm.run(`buffer`) === sandbox.buffer);\nassert.ok(vm.run(`buffer instanceof Buffer`));\nassert.ok(vm.run(`buffer`) instanceof Buffer);\nassert.ok(vm.run(`buffer.__proto__ === Buffer.prototype`));\nassert.ok(vm.run(`buffer`).__proto__ === Buffer.prototype);\nassert.ok(vm.run(`buffer.slice(0, 1) instanceof Buffer`));\nassert.ok(vm.run(`buffer.slice(0, 1)`) instanceof Buffer);\n```\n\n## CLI\n\nBefore you can use vm2 in command line, install it globally with `npm install vm2 -g`.\n\n```\n$ vm2 ./script.js\n```\n\n## Known Issues\n\n* It is not possible to define class that extends proxied class.\n\n## Sponsors\n\nDevelopment is sponsored by [Integromat](https://www.integromat.com).\n\n## License\n\nCopyright (c) 2014-2017 Patrik Simek\n\nThe MIT License\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n[npm-image]: https://img.shields.io/npm/v/vm2.svg?style=flat-square\n[npm-url]: https://www.npmjs.com/package/vm2\n[downloads-image]: https://img.shields.io/npm/dm/vm2.svg?style=flat-square\n[downloads-url]: https://www.npmjs.com/package/vm2\n[quality-image]: http://npm.packagequality.com/shield/vm2.svg?style=flat-square\n[quality-url]: http://packagequality.com/#?package=vm2\n[travis-image]: https://img.shields.io/travis/patriksimek/vm2/master.svg?style=flat-square&label=unit\n[travis-url]: https://travis-ci.org/patriksimek/vm2\n",
  "readmeFilename": "README.md",
  "repository": {
    "type": "git",
    "url": "git+https://github.com/patriksimek/vm2.git"
  },
  "scripts": {
    "test": "mocha test"
  },
  "version": "3.4.6"
}
